# Cursor Rules for Nostroots

## Nostr Standards

When implementing Nostr features, refer to the official NIPs (Nostr Implementation Possibilities) repository:
- https://github.com/nostr-protocol/nips

## Committing nr-web Changes

When committing changes that only affect `nr-web`, skip the pre-commit hooks because:
- `nr-web` is a standalone HTML file and doesn't use the same tooling as `nr-app`
- The pre-commit hooks run ESLint on `nr-app` which can fail for unrelated reasons
- See `nr-web/README.md` for more details

Use `--no-verify` flag when committing nr-web changes:
```bash
git commit --no-verify -m "Your commit message"
```

When committing changes to `nr-web/index.html`, be more verbose about what changed:
- Changes to `nr-web/index.html` can often be derived from changes in the test files
- Include specific details about what functionality was added, modified, or fixed
- Reference related test files to provide context about the changes

## Committing Workflow Changes

When committing changes that only affect GitHub workflows (`.github/workflows/`), skip the pre-commit hooks because:
- Workflow files are YAML configuration and don't need ESLint validation
- The pre-commit hooks run ESLint on `nr-app` which can fail for unrelated reasons

Use `--no-verify` flag when committing workflow changes:
```bash
git commit --no-verify -m "Your commit message"
```

## Testing in nr-web

When making changes to `nr-web`:
- Add new tests if it makes sense (e.g., for new features, bug fixes, or edge cases)
- Run the tests after making changes using Docker:
  ```bash
  make test
  ```
  This ensures that changes don't break existing functionality and that new features are properly tested.
