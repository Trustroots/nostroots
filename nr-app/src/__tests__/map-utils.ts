import {
  getAllChildPlusCodes,
  isPlusCodeBetweenTwoPlusCodes,
  plusCodeHasTrailingZeroes,
  plusCodeToFirstFourSegments,
} from "@/utils/map.utils";

describe("map.utils", () => {
  describe("plusCodeToFirstFourSegments()", () => {
    it("Splits a valid plus code", () => {
      expect(plusCodeToFirstFourSegments("23456789+")).toEqual([
        "23",
        "45",
        "67",
        "89",
      ]);
    });

    it("throws for an invalid plus code", () => {
      expect(() => plusCodeToFirstFourSegments("00000000+")).toThrow();
    });
  });

  describe("plusCodeHasTrailingZeroes()", () => {
    it("returns false for a single zero", () => {
      expect(plusCodeHasTrailingZeroes("7FG49QG0+")).toEqual(false);
      expect(plusCodeHasTrailingZeroes("7FG49000+")).toEqual(false);
      expect(plusCodeHasTrailingZeroes("7FG00000+")).toEqual(false);
    });

    it("returns false for trailing digits", () => {
      expect(plusCodeHasTrailingZeroes("7FG49QGA+FF")).toEqual(false);
      expect(plusCodeHasTrailingZeroes("7FG49QGA+FFF")).toEqual(false);
    });

    it("returns true for trailing zeroes", () => {
      expect(plusCodeHasTrailingZeroes("7FG49Q00+")).toEqual(true);
      expect(plusCodeHasTrailingZeroes("7FG40000+")).toEqual(true);
      expect(plusCodeHasTrailingZeroes("7F000000+")).toEqual(true);
    });
  });

  describe("isPlusCodeBetweenTwoPlusCodes()", () => {
    it("returns true for the same plus code three times", () => {
      expect(
        isPlusCodeBetweenTwoPlusCodes("7FG49Q00+", "7FG49Q00+", "7FG49Q00+"),
      ).toEqual(true);
    });

    it("returns true when the target is in between the corners", () => {
      expect(
        isPlusCodeBetweenTwoPlusCodes("9F5G2G5Q+", "9F4F8QP5+", "9F4GP647+"),
      ).toEqual(true);
    });
  });

  describe("getAllChildPlusCodes()", () => {
    it("returns all child plus codes", () => {
      expect(getAllChildPlusCodes("7FG49Q00+")).toEqual([
        "7FG49Q22+",
        "7FG49Q23+",
        "7FG49Q24+",
        "7FG49Q25+",
        "7FG49Q26+",
        "7FG49Q27+",
        "7FG49Q28+",
        "7FG49Q29+",
        "7FG49Q2C+",
        "7FG49Q2F+",
        "7FG49Q2G+",
        "7FG49Q2H+",
        "7FG49Q2J+",
        "7FG49Q2M+",
        "7FG49Q2P+",
        "7FG49Q2Q+",
        "7FG49Q2R+",
        "7FG49Q2V+",
        "7FG49Q2W+",
        "7FG49Q2X+",
        "7FG49Q32+",
        "7FG49Q33+",
        "7FG49Q34+",
        "7FG49Q35+",
        "7FG49Q36+",
        "7FG49Q37+",
        "7FG49Q38+",
        "7FG49Q39+",
        "7FG49Q3C+",
        "7FG49Q3F+",
        "7FG49Q3G+",
        "7FG49Q3H+",
        "7FG49Q3J+",
        "7FG49Q3M+",
        "7FG49Q3P+",
        "7FG49Q3Q+",
        "7FG49Q3R+",
        "7FG49Q3V+",
        "7FG49Q3W+",
        "7FG49Q3X+",
        "7FG49Q42+",
        "7FG49Q43+",
        "7FG49Q44+",
        "7FG49Q45+",
        "7FG49Q46+",
        "7FG49Q47+",
        "7FG49Q48+",
        "7FG49Q49+",
        "7FG49Q4C+",
        "7FG49Q4F+",
        "7FG49Q4G+",
        "7FG49Q4H+",
        "7FG49Q4J+",
        "7FG49Q4M+",
        "7FG49Q4P+",
        "7FG49Q4Q+",
        "7FG49Q4R+",
        "7FG49Q4V+",
        "7FG49Q4W+",
        "7FG49Q4X+",
        "7FG49Q52+",
        "7FG49Q53+",
        "7FG49Q54+",
        "7FG49Q55+",
        "7FG49Q56+",
        "7FG49Q57+",
        "7FG49Q58+",
        "7FG49Q59+",
        "7FG49Q5C+",
        "7FG49Q5F+",
        "7FG49Q5G+",
        "7FG49Q5H+",
        "7FG49Q5J+",
        "7FG49Q5M+",
        "7FG49Q5P+",
        "7FG49Q5Q+",
        "7FG49Q5R+",
        "7FG49Q5V+",
        "7FG49Q5W+",
        "7FG49Q5X+",
        "7FG49Q62+",
        "7FG49Q63+",
        "7FG49Q64+",
        "7FG49Q65+",
        "7FG49Q66+",
        "7FG49Q67+",
        "7FG49Q68+",
        "7FG49Q69+",
        "7FG49Q6C+",
        "7FG49Q6F+",
        "7FG49Q6G+",
        "7FG49Q6H+",
        "7FG49Q6J+",
        "7FG49Q6M+",
        "7FG49Q6P+",
        "7FG49Q6Q+",
        "7FG49Q6R+",
        "7FG49Q6V+",
        "7FG49Q6W+",
        "7FG49Q6X+",
        "7FG49Q72+",
        "7FG49Q73+",
        "7FG49Q74+",
        "7FG49Q75+",
        "7FG49Q76+",
        "7FG49Q77+",
        "7FG49Q78+",
        "7FG49Q79+",
        "7FG49Q7C+",
        "7FG49Q7F+",
        "7FG49Q7G+",
        "7FG49Q7H+",
        "7FG49Q7J+",
        "7FG49Q7M+",
        "7FG49Q7P+",
        "7FG49Q7Q+",
        "7FG49Q7R+",
        "7FG49Q7V+",
        "7FG49Q7W+",
        "7FG49Q7X+",
        "7FG49Q82+",
        "7FG49Q83+",
        "7FG49Q84+",
        "7FG49Q85+",
        "7FG49Q86+",
        "7FG49Q87+",
        "7FG49Q88+",
        "7FG49Q89+",
        "7FG49Q8C+",
        "7FG49Q8F+",
        "7FG49Q8G+",
        "7FG49Q8H+",
        "7FG49Q8J+",
        "7FG49Q8M+",
        "7FG49Q8P+",
        "7FG49Q8Q+",
        "7FG49Q8R+",
        "7FG49Q8V+",
        "7FG49Q8W+",
        "7FG49Q8X+",
        "7FG49Q92+",
        "7FG49Q93+",
        "7FG49Q94+",
        "7FG49Q95+",
        "7FG49Q96+",
        "7FG49Q97+",
        "7FG49Q98+",
        "7FG49Q99+",
        "7FG49Q9C+",
        "7FG49Q9F+",
        "7FG49Q9G+",
        "7FG49Q9H+",
        "7FG49Q9J+",
        "7FG49Q9M+",
        "7FG49Q9P+",
        "7FG49Q9Q+",
        "7FG49Q9R+",
        "7FG49Q9V+",
        "7FG49Q9W+",
        "7FG49Q9X+",
        "7FG49QC2+",
        "7FG49QC3+",
        "7FG49QC4+",
        "7FG49QC5+",
        "7FG49QC6+",
        "7FG49QC7+",
        "7FG49QC8+",
        "7FG49QC9+",
        "7FG49QCC+",
        "7FG49QCF+",
        "7FG49QCG+",
        "7FG49QCH+",
        "7FG49QCJ+",
        "7FG49QCM+",
        "7FG49QCP+",
        "7FG49QCQ+",
        "7FG49QCR+",
        "7FG49QCV+",
        "7FG49QCW+",
        "7FG49QCX+",
        "7FG49QF2+",
        "7FG49QF3+",
        "7FG49QF4+",
        "7FG49QF5+",
        "7FG49QF6+",
        "7FG49QF7+",
        "7FG49QF8+",
        "7FG49QF9+",
        "7FG49QFC+",
        "7FG49QFF+",
        "7FG49QFG+",
        "7FG49QFH+",
        "7FG49QFJ+",
        "7FG49QFM+",
        "7FG49QFP+",
        "7FG49QFQ+",
        "7FG49QFR+",
        "7FG49QFV+",
        "7FG49QFW+",
        "7FG49QFX+",
        "7FG49QG2+",
        "7FG49QG3+",
        "7FG49QG4+",
        "7FG49QG5+",
        "7FG49QG6+",
        "7FG49QG7+",
        "7FG49QG8+",
        "7FG49QG9+",
        "7FG49QGC+",
        "7FG49QGF+",
        "7FG49QGG+",
        "7FG49QGH+",
        "7FG49QGJ+",
        "7FG49QGM+",
        "7FG49QGP+",
        "7FG49QGQ+",
        "7FG49QGR+",
        "7FG49QGV+",
        "7FG49QGW+",
        "7FG49QGX+",
        "7FG49QH2+",
        "7FG49QH3+",
        "7FG49QH4+",
        "7FG49QH5+",
        "7FG49QH6+",
        "7FG49QH7+",
        "7FG49QH8+",
        "7FG49QH9+",
        "7FG49QHC+",
        "7FG49QHF+",
        "7FG49QHG+",
        "7FG49QHH+",
        "7FG49QHJ+",
        "7FG49QHM+",
        "7FG49QHP+",
        "7FG49QHQ+",
        "7FG49QHR+",
        "7FG49QHV+",
        "7FG49QHW+",
        "7FG49QHX+",
        "7FG49QJ2+",
        "7FG49QJ3+",
        "7FG49QJ4+",
        "7FG49QJ5+",
        "7FG49QJ6+",
        "7FG49QJ7+",
        "7FG49QJ8+",
        "7FG49QJ9+",
        "7FG49QJC+",
        "7FG49QJF+",
        "7FG49QJG+",
        "7FG49QJH+",
        "7FG49QJJ+",
        "7FG49QJM+",
        "7FG49QJP+",
        "7FG49QJQ+",
        "7FG49QJR+",
        "7FG49QJV+",
        "7FG49QJW+",
        "7FG49QJX+",
        "7FG49QM2+",
        "7FG49QM3+",
        "7FG49QM4+",
        "7FG49QM5+",
        "7FG49QM6+",
        "7FG49QM7+",
        "7FG49QM8+",
        "7FG49QM9+",
        "7FG49QMC+",
        "7FG49QMF+",
        "7FG49QMG+",
        "7FG49QMH+",
        "7FG49QMJ+",
        "7FG49QMM+",
        "7FG49QMP+",
        "7FG49QMQ+",
        "7FG49QMR+",
        "7FG49QMV+",
        "7FG49QMW+",
        "7FG49QMX+",
        "7FG49QP2+",
        "7FG49QP3+",
        "7FG49QP4+",
        "7FG49QP5+",
        "7FG49QP6+",
        "7FG49QP7+",
        "7FG49QP8+",
        "7FG49QP9+",
        "7FG49QPC+",
        "7FG49QPF+",
        "7FG49QPG+",
        "7FG49QPH+",
        "7FG49QPJ+",
        "7FG49QPM+",
        "7FG49QPP+",
        "7FG49QPQ+",
        "7FG49QPR+",
        "7FG49QPV+",
        "7FG49QPW+",
        "7FG49QPX+",
        "7FG49QQ2+",
        "7FG49QQ3+",
        "7FG49QQ4+",
        "7FG49QQ5+",
        "7FG49QQ6+",
        "7FG49QQ7+",
        "7FG49QQ8+",
        "7FG49QQ9+",
        "7FG49QQC+",
        "7FG49QQF+",
        "7FG49QQG+",
        "7FG49QQH+",
        "7FG49QQJ+",
        "7FG49QQM+",
        "7FG49QQP+",
        "7FG49QQQ+",
        "7FG49QQR+",
        "7FG49QQV+",
        "7FG49QQW+",
        "7FG49QQX+",
        "7FG49QR2+",
        "7FG49QR3+",
        "7FG49QR4+",
        "7FG49QR5+",
        "7FG49QR6+",
        "7FG49QR7+",
        "7FG49QR8+",
        "7FG49QR9+",
        "7FG49QRC+",
        "7FG49QRF+",
        "7FG49QRG+",
        "7FG49QRH+",
        "7FG49QRJ+",
        "7FG49QRM+",
        "7FG49QRP+",
        "7FG49QRQ+",
        "7FG49QRR+",
        "7FG49QRV+",
        "7FG49QRW+",
        "7FG49QRX+",
        "7FG49QV2+",
        "7FG49QV3+",
        "7FG49QV4+",
        "7FG49QV5+",
        "7FG49QV6+",
        "7FG49QV7+",
        "7FG49QV8+",
        "7FG49QV9+",
        "7FG49QVC+",
        "7FG49QVF+",
        "7FG49QVG+",
        "7FG49QVH+",
        "7FG49QVJ+",
        "7FG49QVM+",
        "7FG49QVP+",
        "7FG49QVQ+",
        "7FG49QVR+",
        "7FG49QVV+",
        "7FG49QVW+",
        "7FG49QVX+",
        "7FG49QW2+",
        "7FG49QW3+",
        "7FG49QW4+",
        "7FG49QW5+",
        "7FG49QW6+",
        "7FG49QW7+",
        "7FG49QW8+",
        "7FG49QW9+",
        "7FG49QWC+",
        "7FG49QWF+",
        "7FG49QWG+",
        "7FG49QWH+",
        "7FG49QWJ+",
        "7FG49QWM+",
        "7FG49QWP+",
        "7FG49QWQ+",
        "7FG49QWR+",
        "7FG49QWV+",
        "7FG49QWW+",
        "7FG49QWX+",
        "7FG49QX2+",
        "7FG49QX3+",
        "7FG49QX4+",
        "7FG49QX5+",
        "7FG49QX6+",
        "7FG49QX7+",
        "7FG49QX8+",
        "7FG49QX9+",
        "7FG49QXC+",
        "7FG49QXF+",
        "7FG49QXG+",
        "7FG49QXH+",
        "7FG49QXJ+",
        "7FG49QXM+",
        "7FG49QXP+",
        "7FG49QXQ+",
        "7FG49QXR+",
        "7FG49QXV+",
        "7FG49QXW+",
        "7FG49QXX+",
      ]);
    });
  });
});
